<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/functions.js"></script>
</head>
<body>
    <div id="wrapper">
        <h1>Your seat reservations</h1>
        <table>
            <thead><tr>
                <th>Passenger name</th><th>Meal</th><th>Surcharge</th><th></th>
            </tr></thead>
            <!-- Todo: Generate table body -->
            <tbody></tbody>
        </table>
    </div>

    <script type="text/javascript">
        // Class to represent a row in the seat reservations grid
        function SeatReservation(name, initialMeal) {
            var self = this;
            self.name = name;
            self.meal = ko.observable(initialMeal);
        }

        // Overall viewmodel for this screen, along with initial state
        function ReservationsViewModel() {
            var self = this;

            // Non-editable catalog data - would come from the server
            self.availableMeals = {
                { mealName: "Standard (sandwich)", price: 0 },
                { mealName: "Premium (lobster)", price: 34.95 },
                { mealName: "Ultimate (whole zebra"), price: 290 }
            }

            // Editable data
            self.seats = ko.observableArray([
                new SeatReservation("Steve", self.availableMeals[0]),
                new SeatReservation("Bert", self.availableMeals[0])
            ]);
        }

        // Activates knockout.js
        ko.applyBindings(new ReservationsViewModel());
    </script>
</body>
</html>